/* eslint-disable no-unused-vars */
// import SliderImg1 from "../../../assets/images/637921896094475779.png";
// import SliderImg2 from "../../../assets/images/637921896896248600.png";
// import HomePackagesSlider from "../../../components/CommanSections/HomePackagesSlider/HomePackagesSlider";

// const HomePackages = () => {

//     const HomePackagesDataArr = [

//         {

//             PackageHeading: "Offbeat Holidays",
//             CardsData: [

//                 { ImgUrl: SliderImg1, ImgTitle: "Wildlife Tour", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Textile & Handicraft Tour", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Tribal Tour", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Architecture Tour", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Navratri Tour", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "kite Festival Tour", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Royal Gujarat Tour", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Explore Glorious Gujarat on Bicycle Tour", nights: "9 Nights & 10 Days" },

//             ]

//         },

//         {

//             PackageHeading: "Weekend Gateways",
//             CardsData: [

//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },

//             ]

//         },

//         {

//             PackageHeading: "Spiritual Tours",
//             CardsData: [

//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },

//             ]

//         },

//         {

//             PackageHeading: "Festival Tours",
//             CardsData: [

//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },

//             ]

//         },

//         {

//             PackageHeading: "Indian Holidays",
//             CardsData: [

//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg1, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },
//                 { ImgUrl: SliderImg2, ImgTitle: "Odisha Tour Packages", nights: "9 Nights & 10 Days" },

//             ]

//         },

//     ]

//     return (

//         <>

//             <div className="section">

//                 {

//                     HomePackagesDataArr && HomePackagesDataArr.map((Val, Idx) => {

//                         return (

//                             <HomePackagesSlider PackageHeading={Val.PackageHeading} CardsData={Val.CardsData} key={Idx} />

//                         )

//                     })

//                 }

//             </div>
//         </>

//     )
// }

// export default HomePackages

/**jainik COde fetching package Name Only ------------------------------------------------------------------------- */

// import { useEffect, useState } from "react";
// import axios from "axios";
// import HomePackagesSlider from "../../../components/CommanSections/HomePackagesSlider/HomePackagesSlider";
// import SliderImg1 from "../../../assets/images/637921896094475779.png";
// import SliderImg2 from "../../../assets/images/637921896896248600.png";
// import BE_URL from "../../../config";

// const HomePackages = () => {
//   const [homePackagesData, setHomePackagesData] = useState([]);

//   useEffect(() => {
//     axios
//       .get(`${BE_URL}/packageName/country/1`)
//       .then((res) => {
//         if (res.data.status === "success") {
//           const data = res.data.data;

//           const formattedData = data.map((item, idx) => ({
//             PackageHeading: item.package_name,
//             CardsData: [
//               {
//                 ImgUrl: idx % 2 === 0 ? SliderImg1 : SliderImg2,
//                 ImgTitle: item.package_name,
//                 nights: "9 Nights & 10 Days",
//               },
//               {
//                 ImgUrl: idx % 2 !== 0 ? SliderImg1 : SliderImg2,
//                 ImgTitle: item.package_name,
//                 nights: "9 Nights & 10 Days",
//               },
//             ],
//           }));

//           setHomePackagesData(formattedData);
//         }
//       })
//       .catch((err) => {
//         console.error("Error fetching package names", err);
//       });
//   }, []);

//   return (
//     <div className="section">
//       {homePackagesData.map((pkg, idx) => (
//         <HomePackagesSlider
//           key={idx}
//           PackageHeading={pkg.PackageHeading}
//           CardsData={pkg.CardsData}
//         />
//       ))}
//     </div>
//   );
// };

// export default HomePackages;

/**jainik COde fetching package Name Only ------------------------------------------------------------------------- */

import React, { useEffect, useState } from "react";
import axios from "axios";
import HomePackagesSlider from "../../../components/CommanSections/HomePackagesSlider/HomePackagesSlider";
import BE_URL from "./../../../config";

const HomePackages = () => {
  const [HomePackagesDataArr, setHomePackagesDataArr] = useState([]);

  useEffect(() => {
    axios
      .get(`${BE_URL}/packageName`)
      .then(async (response) => {
        const packageNames = response.data.data;

        const fetchAll = await Promise.all(
          packageNames.map(async (pkg) => {

            try {
              const res = await axios.get(
                `${BE_URL}/packageDataDetails/byPackageId/${pkg.id}`
              );

              const CardsData = res.data.data.map((item) => ({
                ImgUrl: `${BE_URL}/Images/PackageImages/PackageDataDetails/${item.single_image}`,
                ImgTitle: item.data_title,
                nights: `${item.night} Nights & ${item.day} Days`,
              }));

              return {
                PackageHeading: pkg.package_name,
                CardsData,
              };
            } catch (error) {
              console.error("Error fetching details for", pkg.id);
              return null;
            }
          })
        );

        const filteredData = fetchAll.filter((item) => item !== null);
        setHomePackagesDataArr(filteredData);
      })
      .catch((error) => {
        console.error("Error fetching package names", error);
      });
  }, []);

  return (
    <div className="section">
      {HomePackagesDataArr.map((Val, Idx) => (
        <HomePackagesSlider
          key={Idx}
          PackageHeading={Val.PackageHeading}
          CardsData={Val.CardsData}
        />
      ))}
    </div>
  );
};

export default HomePackages;
